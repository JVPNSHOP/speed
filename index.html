<!doctype html>
<html lang="my">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>JK VIP SPEEDTEST</title>
<style>
  :root{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  body{margin:0;background:#0b1020;color:#e9ecf1}
  .wrap{max-width:980px;margin:0 auto;padding:20px}
  .card{background:#121935;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.35);overflow:hidden}
  .head{display:flex;align-items:center;gap:12px;padding:18px 20px;border-bottom:1px solid #27325c}
  .head img{width:40px;height:40px;border-radius:8px}
  .head h1{margin:0;font-size:22px;letter-spacing:.5px}
  .sub{margin:0 20px 14px;color:#9fb0d1}
  .info{display:flex;gap:12px;flex-wrap:wrap;margin:0 20px 16px}
  .chip{background:#0f1530;border:1px solid #27325c;border-radius:999px;padding:6px 10px;font-size:14px}
  .ok{color:#7cf0a6}
  .cta{display:flex;justify-content:center;padding:24px 20px}
  .btn{all:unset;background:#16a34a;color:#fff;padding:14px 18px;border-radius:12px;cursor:pointer;font-weight:800;font-size:16px}
  .btn:active{transform:translateY(1px)}
  .foot{padding:12px 20px;color:#7f93c4;font-size:12px;border-top:1px solid #27325c}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="head">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Speedometer_font_awesome.svg/120px-Speedometer_font_awesome.svg.png" alt="JK VIP">
        <h1>JK VIP SPEEDTEST</h1>
      </div>
      <p class="sub">Powered by M-Lab (official tester, opened directly)</p>

      <!-- IP & Location -->
      <div class="info">
        <span class="chip" id="ip">Your IP: —</span>
        <span class="chip" id="loc">Location: —</span>
      </div>

      <!-- Open official tester directly (no iframe, so no “Starting” freeze) -->
      <div class="cta">
        <a class="btn" id="open" href="https://speed.measurementlab.net/#/?from=jk-vip" target="_blank" rel="noopener">Start Official Test</a>
      </div>

      <div class="foot">
        Your IP and measurement data are handled by Measurement Lab. See their
        <a href="https://www.measurementlab.net/privacy/" target="_blank" style="color:#9ec8ff">Privacy Policy</a>.
      </div>
    </div>
  </div>

  <!-- IP/Location fetch (no API key) -->
  <script>
  (async function(){
    const ipEl=document.getElementById('ip'), locEl=document.getElementById('loc');
    const set=(ip,loc)=>{ if(ip){ipEl.textContent='Your IP: '+ip; ipEl.classList.add('ok');} if(loc){locEl.textContent='Location: '+loc;} };

    try{ // primary
      const r=await fetch('https://ipapi.co/json/',{cache:'no-store'});
      if(r.ok){ const j=await r.json(); set(j.ip, `${j.city||'-'}, ${j.region||'-'}, ${j.country_name||'-'}`); return; }
    }catch(e){}
    try{ // fallback
      const ip=await fetch('https://api64.ipify.org?format=json',{cache:'no-store'}).then(x=>x.json());
      const g =await fetch(`https://ipapi.co/${ip.ip}/json/`,{cache:'no-store'}).then(x=>x.json());
      set(ip.ip, `${g.city||'-'}, ${g.region||'-'}, ${g.country_name||'-'}`);
    }catch(e){}
  })();
  </script>
</body>
</html>
